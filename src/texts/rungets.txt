import React, { useState, useEffect } from 'react';
import axios from 'axios';
import { Container, Table } from 'semantic-ui-react';

function MyComponent() {
  const [data, setData] = useState([]);

  useEffect(() => {
    const apiUrl = 'http://localhost:3000/api/getId/?id=101&form_Id=1001';
    const headers = {
        Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEwMSwidXNlcm5hbWUiOiJ1c2VyMSIsImlhdCI6MTY3NDQ1NjM2MX0.JIRtmiHXnrUnUUA53RgTE3p1HTNr-l0t1jbwqBistQ8'
    }
    axios.get(apiUrl, {headers})
      .then(response => {
        setData(response.data);
      })
      .catch(error => {
        console.log(error);
      });
  }, []);

  return (
    <Container className='table-container'>
    <Table celled>
      <Table.Header>
        <Table.Row>
          <Table.HeaderCell>Key1</Table.HeaderCell>
          <Table.HeaderCell>Key2</Table.HeaderCell>
          <Table.HeaderCell>Key3</Table.HeaderCell>
          <Table.HeaderCell>Key4</Table.HeaderCell>
          <Table.HeaderCell>Key5</Table.HeaderCell>
          <Table.HeaderCell>Key6</Table.HeaderCell>
          <Table.HeaderCell>Key7</Table.HeaderCell>
          <Table.HeaderCell>Key8</Table.HeaderCell>
          <Table.HeaderCell>Key9</Table.HeaderCell>
          <Table.HeaderCell>Key10</Table.HeaderCell>
          <Table.HeaderCell>Key11</Table.HeaderCell>
          <Table.HeaderCell>Key12</Table.HeaderCell>
          <Table.HeaderCell>Key13</Table.HeaderCell>
          <Table.HeaderCell>Key14</Table.HeaderCell>
          
        </Table.Row>
      </Table.Header>

      <Table.Body>
        {data.map((item, index) => (
          <Table.Row key={index}>
            {Object.keys(item).map((key, index) => (
              <React.Fragment key={index}>
                {/* <Table.Cell>{key}</Table.Cell> */}
                <Table.Cell>{item[key]}</Table.Cell>
              </React.Fragment>
            ))}
          </Table.Row>
        ))}
      </Table.Body>
    </Table>
    </Container>
  );
}

export default MyComponent;